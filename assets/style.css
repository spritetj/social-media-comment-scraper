/* ============================================
   Space / Scientific Design — Comment Scraper
   Deep space dark theme, glassmorphism cards,
   glowing accents, Syne + Outfit typography.
   ============================================ */

@import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=Outfit:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap');

:root {
    /* Surfaces */
    --bg: #080B16;
    --bg-mid: #0D1224;
    --bg-top: #0F1629;
    --glass: rgba(255,255,255,0.035);
    --glass-hover: rgba(255,255,255,0.065);
    --glass-border: rgba(255,255,255,0.06);
    --glass-border-hover: rgba(59,130,246,0.28);

    /* Text */
    --text-1: #E2E8F0;
    --text-2: #64748B;
    --text-3: rgba(226,232,240,0.25);

    /* Accent */
    --accent: #3B82F6;
    --accent-bright: #60A5FA;
    --accent-deep: #2563EB;
    --glow: rgba(59,130,246,0.15);
    --glow-strong: rgba(59,130,246,0.3);

    /* Semantic */
    --ok: #34D399;
    --warn: #FBBF24;
    --err: #F87171;

    /* Radius */
    --r-sm: 10px;
    --r-md: 14px;
    --r-lg: 18px;
    --r-pill: 980px;

    /* Fonts */
    --f-display: 'Syne', -apple-system, BlinkMacSystemFont, sans-serif;
    --f-body: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
    --f-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;
}


/* ============================================
   Hide Streamlit Chrome
   ============================================ */
#MainMenu, footer, header,
[data-testid="stDecoration"],
.stDeployButton,
[data-testid="manage-app-button"],
[data-testid="stToolbar"],
div[data-testid="stStatusWidget"] {
    display: none !important;
}


/* ============================================
   Base — deep space background
   ============================================ */
.stApp {
    font-family: var(--f-body);
    background:
        radial-gradient(ellipse at 15% 50%, rgba(59,130,246,0.07) 0%, transparent 50%),
        radial-gradient(ellipse at 85% 15%, rgba(139,92,246,0.05) 0%, transparent 40%),
        radial-gradient(ellipse at 50% 100%, rgba(52,211,153,0.025) 0%, transparent 40%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg-mid) 50%, var(--bg-top) 100%) !important;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: var(--text-1);
}

h1, h2, h3, h4 {
    font-family: var(--f-display);
    color: var(--text-1);
}


/* ============================================
   Navigation — frosted glass on dark
   ============================================ */
[data-testid="stPageLink"] {
    background: none !important;
    border: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
}

[data-testid="stPageLink"]:hover {
    background: none !important;
}

[data-testid="stPageLink"] a {
    font-family: var(--f-body) !important;
    font-size: 0.8rem !important;
    font-weight: 400 !important;
    color: rgba(226,232,240,0.4) !important;
    letter-spacing: 0.01em !important;
    text-decoration: none !important;
    padding: 6px 0 !important;
    transition: color 0.2s ease;
    display: inline-block;
}

[data-testid="stPageLink"]:hover a {
    color: rgba(226,232,240,0.8) !important;
}

[data-testid="stPageLink"][aria-current="page"] a {
    font-weight: 600 !important;
    color: var(--text-1) !important;
    text-shadow: 0 0 12px var(--glow);
}

/* Nav separator — gradient fade */
.nav-divider {
    border: none;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.07), transparent);
    margin: 0;
}


/* ============================================
   Donate Popover
   ============================================ */
[data-testid="stPopover"] button {
    font-family: var(--f-body) !important;
    font-size: 0.8rem !important;
    font-weight: 400 !important;
    border: none !important;
    background: transparent !important;
    color: rgba(226,232,240,0.4) !important;
    padding: 0 !important;
    border-radius: 0 !important;
}

[data-testid="stPopover"] button:hover {
    color: rgba(226,232,240,0.8) !important;
    background: transparent !important;
}


/* ============================================
   Dashboard Header — beacon + title
   ============================================ */
.dash-header {
    padding: 2.5rem 0 1.5rem 0;
    text-align: center;
}

.dash-beacon {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--accent);
    margin: 0 auto 1rem;
    box-shadow: 0 0 8px var(--glow-strong), 0 0 24px var(--glow);
    animation: beacon 3s ease-in-out infinite;
}

@keyframes beacon {
    0%, 100% {
        opacity: 0.7;
        box-shadow: 0 0 8px rgba(59,130,246,0.2), 0 0 20px rgba(59,130,246,0.1);
    }
    50% {
        opacity: 1;
        box-shadow: 0 0 12px rgba(59,130,246,0.5), 0 0 30px rgba(59,130,246,0.2);
    }
}

.dash-title {
    font-family: var(--f-display);
    font-size: 2rem;
    font-weight: 700;
    color: var(--text-1);
    letter-spacing: -0.02em;
    line-height: 1.15;
    margin: 0 0 0.4rem 0;
}

.dash-subtitle {
    font-family: var(--f-body);
    font-size: 0.95rem;
    color: var(--text-2);
    font-weight: 400;
    line-height: 1.5;
    margin: 0;
}


/* ============================================
   Space Cards — glassmorphism, clickable
   ============================================ */
.space-card {
    background: var(--glass);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: var(--r-lg);
    padding: 1.75rem 1.5rem 1.25rem;
    min-height: 210px;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: background 0.3s ease,
                border-color 0.3s ease,
                box-shadow 0.3s ease,
                transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
    cursor: pointer;
    opacity: 0;
    animation: cardReveal 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.space-card.d1 { animation-delay: 0.05s; }
.space-card.d2 { animation-delay: 0.12s; }
.space-card.d3 { animation-delay: 0.19s; }
.space-card.d4 { animation-delay: 0.26s; }

@keyframes cardReveal {
    from {
        opacity: 0;
        transform: translateY(12px) scale(0.97);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Icon ring with platform color */
.card-icon-ring {
    --rc: 59,130,246;
    width: 52px;
    height: 52px;
    border-radius: var(--r-md);
    background: rgba(var(--rc), 0.08);
    border: 1px solid rgba(var(--rc), 0.15);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 0.85rem;
    font-size: 1.4rem;
    transition: background 0.3s ease, box-shadow 0.3s ease;
}

.ring-red    { --rc: 239,68,68; }
.ring-cyan   { --rc: 6,182,212; }
.ring-blue   { --rc: 59,130,246; }
.ring-violet { --rc: 139,92,246; }

.space-card h3 {
    font-family: var(--f-display);
    font-size: 1.15rem;
    font-weight: 600;
    color: var(--text-1);
    letter-spacing: -0.01em;
    margin: 0 0 0.3rem 0;
}

.space-card p {
    font-family: var(--f-body);
    font-size: 0.82rem;
    color: var(--text-2);
    font-weight: 400;
    line-height: 1.45;
    margin: 0;
    flex-grow: 1;
}

/* Card footer: badge + arrow */
.card-meta {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    margin-top: 0.85rem;
    padding-top: 0.75rem;
    border-top: 1px solid rgba(255,255,255,0.04);
}

.card-badge {
    font-family: var(--f-mono);
    font-size: 0.58rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    padding: 3px 8px;
    border-radius: var(--r-pill);
}

.badge-open {
    color: var(--ok);
    background: rgba(52,211,153,0.08);
    border: 1px solid rgba(52,211,153,0.18);
}

.badge-auth {
    color: var(--text-2);
    background: rgba(100,116,139,0.08);
    border: 1px solid rgba(100,116,139,0.15);
}

.card-arrow {
    color: rgba(226,232,240,0.2);
    font-size: 1.1rem;
    font-weight: 300;
    transition: transform 0.3s ease, color 0.3s ease;
}


/* ============================================
   Clickable Card Overlay — :has() system
   Makes the invisible st.page_link fill the
   entire card area so the whole card is one
   big clickable link.
   ============================================ */
[data-testid="stVerticalBlock"]:has(.space-card) {
    position: relative;
    cursor: pointer;
}

[data-testid="stVerticalBlock"]:has(.space-card) > [data-testid="stElementContainer"]:has([data-testid="stPageLink"]) {
    position: absolute !important;
    inset: 0 !important;
    z-index: 10;
}

[data-testid="stVerticalBlock"]:has(.space-card) [data-testid="stPageLink"] {
    height: 100%;
    background: none !important;
    border: none !important;
    padding: 0 !important;
}

[data-testid="stVerticalBlock"]:has(.space-card) [data-testid="stPageLink"] a {
    display: block !important;
    width: 100% !important;
    height: 100% !important;
    color: transparent !important;
    font-size: 0 !important;
    padding: 0 !important;
    cursor: pointer !important;
}

[data-testid="stVerticalBlock"]:has(.space-card) [data-testid="stPageLink"] a p {
    display: none !important;
}

/* Hover effect — triggered on parent, styles the card */
[data-testid="stVerticalBlock"]:has(.space-card):hover .space-card {
    background: var(--glass-hover);
    border-color: var(--glass-border-hover);
    box-shadow: 0 0 30px rgba(59,130,246,0.07), 0 8px 32px rgba(0,0,0,0.25);
    transform: translateY(-3px);
}

[data-testid="stVerticalBlock"]:has(.space-card):hover .card-icon-ring {
    background: rgba(var(--rc), 0.14);
    box-shadow: 0 0 18px rgba(var(--rc), 0.12);
}

[data-testid="stVerticalBlock"]:has(.space-card):hover .card-arrow {
    color: var(--accent-bright);
    transform: translateX(4px);
}


/* ============================================
   Column gap
   ============================================ */
[data-testid="stHorizontalBlock"] {
    gap: 14px !important;
}


/* ============================================
   Buttons — glowing
   ============================================ */
.stButton > button {
    border-radius: var(--r-pill);
    font-family: var(--f-body);
    font-weight: 500;
    font-size: 0.92rem;
    letter-spacing: 0.01em;
    transition: all 0.25s ease;
    border: none;
    padding: 0.55rem 1.5rem;
}

/* Primary — blue glow */
.stButton > button[kind="primary"],
.stButton > button[data-testid="stBaseButton-primary"] {
    background: var(--accent) !important;
    color: #FFFFFF !important;
    border: none !important;
    box-shadow: 0 0 15px rgba(59,130,246,0.25), 0 2px 8px rgba(0,0,0,0.3);
}

.stButton > button[kind="primary"]:hover,
.stButton > button[data-testid="stBaseButton-primary"]:hover {
    background: var(--accent-deep) !important;
    box-shadow: 0 0 25px rgba(59,130,246,0.35), 0 4px 16px rgba(0,0,0,0.3);
}

/* Secondary — outline glow */
.stButton > button:not([kind="primary"]):not([data-testid="stBaseButton-primary"]) {
    background: transparent;
    color: var(--accent-bright);
    border: 1px solid rgba(59,130,246,0.35);
}

.stButton > button:not([kind="primary"]):not([data-testid="stBaseButton-primary"]):hover {
    background: rgba(59,130,246,0.1);
    border-color: rgba(59,130,246,0.6);
    box-shadow: 0 0 15px rgba(59,130,246,0.12);
}

/* Download buttons */
.stDownloadButton > button {
    width: 100%;
    border-radius: var(--r-pill);
    font-family: var(--f-body);
    font-weight: 500;
    font-size: 0.92rem;
    transition: all 0.25s ease;
    background: transparent;
    color: var(--accent-bright);
    border: 1px solid rgba(59,130,246,0.35);
}

.stDownloadButton > button:hover {
    background: rgba(59,130,246,0.1);
    border-color: rgba(59,130,246,0.6);
    box-shadow: 0 0 15px rgba(59,130,246,0.12);
    color: #FFFFFF;
}


/* ============================================
   Page Header — scraper pages
   ============================================ */
.page-header {
    margin-bottom: 0.15rem;
}

.page-header h1 {
    font-family: var(--f-display);
    font-size: 1.85rem;
    font-weight: 700;
    letter-spacing: -0.025em;
    margin-bottom: 0.2rem;
    color: var(--text-1);
}

.page-desc {
    font-family: var(--f-body);
    color: var(--text-2);
    font-size: 0.92rem;
    margin-bottom: 1.75rem;
    font-weight: 400;
}


/* ============================================
   Metric Cards — glass + mono numbers
   ============================================ */
[data-testid="stMetric"] {
    background: var(--glass) !important;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border) !important;
    border-radius: var(--r-md);
    padding: 1rem;
    text-align: center;
}

[data-testid="stMetricValue"] {
    font-family: var(--f-mono) !important;
    font-size: 1.6rem !important;
    font-weight: 700;
    color: var(--text-1) !important;
    letter-spacing: -0.02em;
}

[data-testid="stMetricLabel"] {
    font-family: var(--f-mono) !important;
    color: var(--text-2) !important;
    font-size: 0.6rem !important;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-weight: 500;
}


/* ============================================
   Input Areas — dark glass
   ============================================ */
.stTextArea textarea {
    background: rgba(255,255,255,0.03) !important;
    border: 1px solid rgba(255,255,255,0.08) !important;
    border-radius: var(--r-sm);
    font-size: 0.88rem;
    color: var(--text-1) !important;
    font-family: var(--f-body);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.stTextArea textarea:focus {
    border-color: rgba(59,130,246,0.5) !important;
    box-shadow: 0 0 0 3px rgba(59,130,246,0.1), 0 0 15px rgba(59,130,246,0.08);
}

.stTextArea textarea::placeholder {
    color: rgba(226,232,240,0.2) !important;
}

.stTextInput input {
    background: rgba(255,255,255,0.03) !important;
    border: 1px solid rgba(255,255,255,0.08) !important;
    border-radius: var(--r-sm);
    color: var(--text-1) !important;
    font-family: var(--f-body);
    transition: border-color 0.2s ease;
}

.stTextInput input:focus {
    border-color: rgba(59,130,246,0.5) !important;
    box-shadow: 0 0 0 3px rgba(59,130,246,0.1);
}


/* ============================================
   Expander — dark glass panel
   ============================================ */
[data-testid="stExpander"] {
    background: rgba(255,255,255,0.02) !important;
    border: 1px solid rgba(255,255,255,0.06) !important;
    border-radius: var(--r-md);
    backdrop-filter: blur(10px);
}

[data-testid="stExpander"] summary {
    font-family: var(--f-body);
    font-weight: 500;
    font-size: 0.85rem;
    color: var(--text-1);
}


/* ============================================
   Data Table
   ============================================ */
[data-testid="stDataFrame"] {
    border-radius: var(--r-md);
    overflow: hidden;
    border: 1px solid rgba(255,255,255,0.06);
}

.stDataFrame {
    border: none;
    border-radius: var(--r-md);
}


/* ============================================
   Sidebar
   ============================================ */
section[data-testid="stSidebar"] {
    background: var(--bg-mid);
}


/* ============================================
   Selectbox / Slider / File Uploader
   ============================================ */
.stSelectbox [data-baseweb="select"] {
    background: rgba(255,255,255,0.03);
}

[data-testid="stFileUploader"] {
    border-radius: var(--r-sm);
}


/* ============================================
   Footer — instrument calibration style
   ============================================ */
.platform-footer {
    text-align: center;
    padding: 3rem 0 1.5rem 0;
    font-family: var(--f-mono);
    color: rgba(226,232,240,0.15);
    font-size: 0.6rem;
    font-weight: 400;
    letter-spacing: 0.1em;
    text-transform: uppercase;
}


/* ============================================
   Scrollbar — minimal, dark
   ============================================ */
::-webkit-scrollbar {
    width: 5px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.08);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255,255,255,0.15);
}


/* ============================================
   Alert overrides
   ============================================ */
.stAlert {
    border-radius: var(--r-sm);
}


/* ============================================
   Responsive — Tablet
   ============================================ */
@media (max-width: 768px) {
    .dash-header {
        padding: 2rem 0 1.25rem 0;
    }
    .dash-title {
        font-size: 1.65rem;
    }
    .space-card {
        min-height: 175px;
        padding: 1.5rem 1.25rem 1rem;
    }
    .space-card h3 {
        font-size: 1.05rem;
    }
    .page-header h1 {
        font-size: 1.5rem;
    }
}

/* ============================================
   Responsive — Phone
   ============================================ */
@media (max-width: 480px) {
    .dash-title {
        font-size: 1.4rem;
    }
    .dash-subtitle {
        font-size: 0.88rem;
    }
    .space-card {
        min-height: 155px;
        padding: 1.25rem 1rem 0.85rem;
    }
    .space-card h3 {
        font-size: 0.95rem;
    }
    .card-icon-ring {
        width: 44px;
        height: 44px;
        font-size: 1.2rem;
    }
    .page-header h1 {
        font-size: 1.35rem;
    }
}
